{% extends "auctions/layout.html" %}

{% block body %}
    <h2>My Watchlist</h2>                                                           <!-- Displays the userâ€™s watchlist with a clear header, providing context for the content. -->
    {% for listing in listings %}                                                   <!-- Iterates over all listings in the watchlist, dynamically generating links to their detail pages. -->
        <a href="{% url 'listing_detail' listing.id %}">
            <div class="listings">                                                  <!-- Wraps each listing in a <div> with class listings for consistent styling and layout. -->
                                                                                    <!-- Shows key information for each listing: title, description, and current price. -->
                <h3>{{ listing.title }}</h3>
                <p>Seller: {{ listing.owner }}</p>
                <p>{{ listing.description }}</p>
                <p>Current price: ${{ listing.current_price }}</p>
                {% if listing.image_url %}                                          <!-- Conditionally renders listing images only if a URL is provided, preventing broken image links. -->
                    <img src="{{ listing.image_url }}" alt="{{ listing.title }}">
                {% endif %}
            </div>
        </a>
    {% empty %}                                                                     <!-- Handles the case of an empty watchlist gracefully using empty, improving user experience. -->
        <p>Your watchlist is empty.</p>
    {% endfor %}
{% endblock %}
