{% extends "auctions/layout.html" %}

{% block body %}
<main class="listings-container">
        {% for listing in listings %}
        <a class="cards-link" href="{% url 'listing_detail' listing.id %}?mode={{ mode }}">
            <div class="listings-card">
                {% if listing.image_url %}
                    <div class="listings-box-image">
                        <img src="{{ listing.image_url }}" alt="{{ listing.title }}">
                    </div>
                {% endif %}
                <div class="listings-box-description">
                    <div>
                        <h5 class="listings-title">{{ listing.title }}</h5>
                        <div class="listings-box-text">
                            <p class="listings-text-justify">{{ listing.description }}</p>
                        </div>
                        <h5 class="listings-price">
                            {% if listing.has_bids %}
                                Now: ${{ listing.current_price }}
                            {% else %}
                                From: ${{ listing.starting_bid }}
                            {% endif %}
                        </h5>
                    </div>
                </div>
            </div>
        </a>
        {% empty %}
            <p>No active listings at the moment.</p>
        {% endfor %}
</main>
{% endblock %}

